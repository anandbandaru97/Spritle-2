{"ast":null,"code":"var _jsxFileName = \"/home/theia/spritle/src/components/AdminPage/AddAgent.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport \"./AddAgent.css\";\nimport emailjs from \"@emailjs/browser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddAgent = props => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const mailformat = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n  //emailjs\n  const AgentCreateHandler = e => {\n    e.preventDefault();\n    if (email === \"\" && password === \"\") {\n      setError(\"Input fields must not be Empty\");\n      return;\n    }\n    if (!email.match(mailformat)) {\n      setError(\"Invalid Email Address\");\n      return;\n    }\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }\n    if (username !== \"\" && password === confirmPassword && email !== \"\" && password !== \"\" && confirmPassword !== \"\") {\n      let data = {\n        Username: username,\n        Email: email,\n        Password: password,\n        isRegistered: false\n      };\n      let formData = JSON.parse(localStorage.getItem(\"data\")) || [];\n      formData.push(data);\n      console.log(data);\n      localStorage.setItem(\"data\", JSON.stringify(formData));\n      props.setTrigger(!props.trigger);\n\n      //emailjs\n      emailjs.send(\"service_bn2nsfm\", \"template_d49ab8c\", {\n        to_name: `${username}`,\n        from_name: \"Train booking\",\n        message: `Email : ${email}, Password : ${password}`,\n        email: {\n          email\n        },\n        reply_to: {\n          email\n        }\n      }, \"gUtRW_1yw2oG6hQku\").then(result => {\n        console.log(result.text);\n      }, error => {\n        console.log(error.text);\n      });\n\n      //\n\n      setUsername(\"\");\n      setEmail(\"\");\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      props.isVisible();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"agent-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-container\",\n        onSubmit: AgentCreateHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Create a New Agent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          placeholder: \"Username\",\n          type: \"text\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          placeholder: \"Email\",\n          type: \"text\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"text\",\n          value: password,\n          placeholder: \"Password\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input\",\n          type: \"password\",\n          value: confirmPassword,\n          placeholder: \"Confirm password\",\n          onChange: e => setConfirmPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          class: \"sbt\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(AddAgent, \"9krVY4d52aNvqxoBwQ6spRRWesc=\");\n_c = AddAgent;\nexport default AddAgent;\nvar _c;\n$RefreshReg$(_c, \"AddAgent\");","map":{"version":3,"names":["useState","emailjs","AddAgent","props","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","mailformat","AgentCreateHandler","e","preventDefault","match","data","Username","Email","Password","isRegistered","formData","JSON","parse","localStorage","getItem","push","console","log","setItem","stringify","setTrigger","trigger","send","to_name","from_name","message","reply_to","then","result","text","isVisible","target","value","color"],"sources":["/home/theia/spritle/src/components/AdminPage/AddAgent.js"],"sourcesContent":["import { useState } from \"react\";\nimport \"./AddAgent.css\";\nimport emailjs from \"@emailjs/browser\";\n\nconst AddAgent = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const mailformat = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n  //emailjs\n  const AgentCreateHandler = (e) => {\n    e.preventDefault();\n\n    if (email === \"\" && password === \"\") {\n      setError(\"Input fields must not be Empty\");\n      return;\n    }\n\n    if (!email.match(mailformat)) {\n      setError(\"Invalid Email Address\");\n      return;\n    }\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }\n    if (\n      username !== \"\" &&\n      password === confirmPassword &&\n      email !== \"\" &&\n      password !== \"\" &&\n      confirmPassword !== \"\"\n    ) {\n      let data = {\n        Username: username,\n        Email: email,\n        Password: password,\n        isRegistered: false,\n      };\n      let formData = JSON.parse(localStorage.getItem(\"data\")) || [];\n      formData.push(data);\n      console.log(data);\n      localStorage.setItem(\"data\", JSON.stringify(formData));\n      props.setTrigger(!props.trigger);\n\n      //emailjs\n      emailjs\n        .send(\n          \"service_bn2nsfm\",\n          \"template_d49ab8c\",\n          {\n            to_name: `${username}`,\n            from_name: \"Train booking\",\n            message: `Email : ${email}, Password : ${password}`,\n            email: { email },\n            reply_to: { email },\n          },\n          \"gUtRW_1yw2oG6hQku\"\n        )\n        .then(\n          (result) => {\n            console.log(result.text);\n          },\n          (error) => {\n            console.log(error.text);\n          }\n        );\n\n      //\n\n      setUsername(\"\");\n      setEmail(\"\");\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      props.isVisible();\n    }\n  };\n\n  return (\n    <>\n      <div className=\"agent-container\">\n        <form className=\"form-container\" onSubmit={AgentCreateHandler}>\n          <h3>Create a New Agent</h3>\n          <input\n            className=\"input\"\n            placeholder=\"Username\"\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n          <input\n            className=\"input\"\n            placeholder=\"Email\"\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <input\n            className=\"input\"\n            type=\"text\"\n            value={password}\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <input\n            className=\"input\"\n            type=\"password\"\n            value={confirmPassword}\n            placeholder=\"Confirm password\"\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          />\n\n          <button type=\"submit\" class=\"sbt\">\n            Submit\n          </button>\n        </form>\n        <p style={{ color: \"red\" }}>{error}</p>\n        <hr />\n      </div>\n    </>\n  );\n};\n\nexport default AddAgent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}